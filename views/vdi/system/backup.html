<section id="widget-grid">
	<div class="row">
		<article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
			<div data-widget-grid class="jarviswidget">
				<!-- widget div-->
				<div class="noborder">
					<div class="widget-body no-padding">
						<div class="form-inline no-footer">
							<div class="dt-toolbar">
								<div class="left_side col-xs-6 col-sm-6">
									<!-- <form class="navbar-left ng-pristine no-margin" role="search" name="backupForm">
										<div class="pull-left margin-r-10 form-group">
											<input width="260" class="form-control nodirty"  data-localize="备份名为英文或数字" name="isoname" data-ng-pattern="/^[A-Za-z0-9]+$/" maxlength="20" type="text" ng-model="backupname" required>
										</div>
										<button ng-show="!submiting" class="btn btn-primary"  ng-class="{disabled:backupForm.isoname.$invalid}" ng-click="add()">
											<i class="fa  icon-jj-Recovery-1"></i>&nbsp;<span localize="备份">备份</span>
										</button>
										<img ng-show="submiting" width="32" height="32" ng-src="img/loadingtext.gif" alt="">
									</form> -->
									<a class="btn btn-xs btn-primary" ng-disabled="submitting" ng-click="backup()"><i class="icon-jj-addddd fa"></i> <span data-localize="立即备份">立即备份</span></a>
									<a class="btn btn-xs btn-primary" ng-click="config()"><i class="icon-jj-Recovery-1 fa"></i> <span data-localize="备份配置">备份配置</span></a>
									<a class="btn btn-xs btn-danger" data-ng-class="{disabled:!checkOne()}" ng-click="delete()"><i class="icon-jj-delete fa"></i> <span data-localize="删除">删除</span></a>
								</div>
								<div class="right_side col-xs-6 col-sm-6">
									<div class="pull-right filter"> <span localize="显示"></span> <select data-ng-model="pagesize" data-ng-change="pageSizeChange()" data-ng-options="pagesize for pagesize in pagesizes"></select> <span localize="项结果"></span> </div>
									<div class="pull-right dataTables_filter search"><label><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span> <input type="search" maxlength="20" class="form-control" ng-model="searchText"></label></div>
								</div>
							</div>
						</div>
						<div class="table-responsive">
							<table data-vdi-grid
								class="table table-striped table-condensed table-hover smart-form has-tickbox"
								width="100%">
								<thead class="vdi_header">
									<tr>
										<th><label class="checkbox"><input type="checkbox" data-ng-model="checkedAll" data-ng-change="selectAllChange(checkedAll)" data-ng-checked="checkAll(all)" name="checkbox-inline"><i></i></label></th>
										<th ng-model="nameSort" ng-click="nameSort = !nameSort;sort('display_name', nameSort)" localize="备份文件名">备份文件名</th>
										<th localize="大小">大小</th>
										<th ng-model="timeSort" ng-click="timeSort = !timeSort;sort('created_at', timeSort)" localize="备份时间">备份时间</th>
										<th localize="备份方式">备份方式</th>
										<th localize="操作">操作</th>
									</tr>
								</thead>
								<tbody class="vdi_body">
									<tr data-ng-repeat="item in rows | filter:searchText | paging:currentPage:pagesize">
										<td><label class="checkbox" ><input data-ng-model="item._selected" data-ng-checked="item._selected" type="checkbox" data-ng-value="item.id" name="checkbox-inline"><i></i></label></td>
										<td class="break_all" width="240">{{ item.display_name }}</td>
										<td>{{ item.size }}MB</td>
										<td>{{ item.created_at |  date:"yyyy-MM-dd HH:mm:ss" }}</td>
										<td> <span localize="自动备份" ng-show="item.is_auto_backup === true">自动备份</span><span ng-show="item.is_auto_backup === false" localize="手动备份">手动备份</span></td>
										<td><a class="btn btn-xs btn-default" href="{{ getURL(item) }}" localize-title="下载"><i class="fa icon-jj-Download"></i></a>&nbsp;<button class="btn btn-xs btn-default" ng-click="delete(item)" localize-title="删除"><i class="fa icon-jj-delete"></i></button></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="tips" data-ng-if="loading"  localize="LOADING_TEXT">数据正在加载...</div>
					<div class="tips" data-ng-if="!loading && rows.length == 0"  localize="NO_MATCHING_DATA">没有匹配数据</div>
					<div data-ng-include="'includes/pagination.html'"></div>
				</div>
				<!-- widget div end -->
			</div>
		</article>
	</div>
</section>
<script>pageSetUp();</script>